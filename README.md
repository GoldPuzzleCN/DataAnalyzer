# DataAnalyzer：燃烧性能数据分析工具

DataAnalyzer 是一款用于分析固体燃料燃烧性能的工具，主要通过压强-时间（P-t）原始数据计算瞬时燃速，并绘制燃速-压强（r-P）曲线，为后续基于维也里燃速公式（`r = a·Pⁿ`）的参数拟合提供基础数据。

## 功能说明

1. **数据导入**：支持导入CSV/TXT格式的压强-时间（P-t）原始数据
2. **参数配置**：可设置燃料密度、特征速度、喷喉面积等计算参数
3. **燃速计算**：基于RN压强公式计算瞬时燃速及相关参数
4. **结果拟合：**支持两种平滑处理算法（Moving Average、Savitzky-Golay）
5. **可视化展示**：
   - 原始P-t曲线展示
   - 计算结果（燃速、内孔直径、燃面面积）随时间变化曲线
   - 燃速-压强（r-P）关系曲线

## 计算原理

### 核心公式

1. **RN压强公式**：  
   $P = \frac{Ab}{At} \cdot \rho \cdot C^* \cdot r$  

2. **燃速计算公式**（由RN公式变形得到）：  
   $r = \frac{P}{\left(\frac{Ab}{At}\right) \cdot \rho \cdot C^*}$  

3. **燃面面积计算**：  
   - 初始燃面面积： $Ab_0 = \pi \cdot D \cdot h$  
   - 后续步长燃面面积： $Ab_i = \pi \cdot (D + 2 \cdot r_{i-1} \cdot T) \cdot h$  

### 计算流程

1. 导入P-t原始数据，自动计算时间步长 $T$
2. 使用初始参数计算初始燃面面积 $Ab_0$
3. 迭代计算：
   - 由当前压强 $P_i$和燃面面积 $Ab_i$计算瞬时燃速 $r_i$
   - 基于 $r_i$计算下一时刻的燃面面积 $Ab_{i+1}$
4. 生成所有时间点的r-P对应关系，绘制r-P曲线

## 使用步骤

1. **导入数据**：点击"导入"按钮，选择CSV或TXT格式的P-t数据文件（格式要求：时间,压强）
2. **配置参数**：在参数设置区域填写/修改以下参数：
   - 燃料密度 $\rho$（kg/m³）
   - 特征速度 $C^*$（m/s）
   - 喷喉截面积 $At$（m²）
   - 初始内孔直径 $D$（m）
   - 药柱长度 $h$（m）
   - 时间步长 $T$（s，默认从数据中自动计算）
3. **执行计算**：点击"计算燃速"按钮
4. **查看结果**：
   - 在"计算结果"标签页查看燃速随时间变化曲线及详细数据
   - 在"r-P曲线"标签页查看燃速与压强的关系曲线

## 数据导出与后续分析

计算得到的r-P数据可用于后续基于维也里燃速公式（ $r = a·Pⁿ$ ）的参数拟合：
- 可将结果导出至Excel，使用数据拟合功能求解 $a$（燃速系数）和 $n$（压强指数）
- 或使用MATLAB等工具进行分段回归分析，得到不同压强区间的 $a$和 $n$值

## 界面说明

- **原始P-t数据**标签页：展示导入的原始数据及P-t曲线

![](\docs\images\1.png)

- **计算结果**标签页：展示燃速随时间变化曲线及详细计算数据（时间、压强、燃速、内孔直径、燃面面积）

![](\docs\images\2.png)

- **r-P曲线**标签页：展示燃速与压强的关系曲线，用于后续参数拟合

![](\docs\images\3.png)

- **拟合结果**标签页：对原始数据进行平滑处理

![](\images\4.png)

- **详细数据展示**

![](\docs\images\5.png)

## 注意事项

- 导入的数据文件需保证格式正确（每行包含时间和压强两个数值，以逗号分隔）
- 请确保输入的计算参数为正数，否则会导致计算失败
- 时间步长 $T$默认从数据中计算平均间隔，也可手动修改

通过该工具可快速处理燃烧试验数据，为固体燃料的性能分析提供基础支持。
